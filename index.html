<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Subastas Bolivia - Sistema VIP</title>
    
    <!-- META TAGS PARA SEO Y M√ìVILES -->
    <meta name="description" content="Sistema de subastas en l√≠nea VIP para Bolivia. Participa en subastas exclusivas de electr√≥nica, veh√≠culos, arte y m√°s.">
    <meta name="keywords" content="subastas, Bolivia, pujas, electr√≥nica, veh√≠culos, arte, coleccionables, premium">
    <meta name="author" content="Subastas Bolivia">
    <meta name="robots" content="index, follow">
    
    <!-- OPEN GRAPH / SOCIAL MEDIA -->
    <meta property="og:title" content="Subastas Bolivia - Sistema VIP">
    <meta property="og:description" content="Sistema de subastas en l√≠nea VIP para Bolivia">
    <meta property="og:image" content="https://subastasbolivia.com/og-image.jpg">
    <meta property="og:url" content="https://subastasbolivia.com">
    <meta property="og:type" content="website">
    
    <!-- TWITTER CARDS -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Subastas Bolivia - Sistema VIP">
    <meta name="twitter:description" content="Sistema de subastas en l√≠nea VIP para Bolivia">
    
    <!-- PWA CONFIGURATION -->
    <meta name="theme-color" content="#FFD700">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Subastas Bolivia">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Subastas Bolivia">
    
    <!-- ICONS PARA PWA -->
    <link rel="icon" href="icon-192x192.png">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="icon-180x180.png">
    <link rel="manifest" href="manifest.json">
    
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- ESTILOS PRINCIPALES -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- ESTILOS RESPONSIVE -->
    <link rel="stylesheet" href="responsive.css">
    
    <!-- GOOGLE FONTS (OPCIONAL) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ESTILOS INLINE CR√çTICOS (FOLD CSS) -->
    <style>
        /* CRITICAL CSS PARA CARGA R√ÅPIDA */
        :root {
            --gold: #FFD700;
            --dark: #0A0A14;
            --light: #F0F0F0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: var(--dark);
            color: var(--light);
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .loader-logo {
            font-size: clamp(1.5rem, 5vw, 3rem);
            color: var(--gold);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: 300;
            letter-spacing: 2px;
        }
        
        .bolivia-flag {
            width: clamp(30px, 8vw, 40px);
            height: clamp(20px, 6vw, 30px);
            background: linear-gradient(to bottom, #D52B1E 0%, #D52B1E 33%, #F9E300 33%, #F9E300 66%, #007934 66%, #007934 100%);
            border-radius: 4px;
        }
        
        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255,255,255,0.1);
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* HEADER M√ìVIL B√ÅSICO */
        .header {
            background: rgba(10, 10, 20, 0.95);
            border-bottom: 2px solid var(--gold);
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        /* CONTENIDO PRINCIPAL M√ìVIL */
        .main-content {
            padding: 15px;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        /* OCULTAR CONTENIDO MIENTRAS CARGA */
        .main-content, .header {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .loaded .main-content,
        .loaded .header {
            opacity: 1;
        }
        
        /* MEJORAS PARA TOUCH */
        button, 
        .nav-btn,
        .category-btn,
        .bid-btn,
        .watch-btn {
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* PREVENIR ZOOM EN INPUTS iOS */
        @media screen and (max-width: 768px) {
            input, 
            select, 
            textarea {
                font-size: 16px !important;
            }
        }
        
        /* SAFE AREAS PARA iPHONE X+ */
        @supports (padding: max(0px)) {
            body, .header {
                padding-left: min(0px, env(safe-area-inset-left));
                padding-right: min(0px, env(safe-area-inset-right));
            }
            
            .header {
                padding-top: min(15px, env(safe-area-inset-top));
            }
        }
    </style>
</head>
<body>
    <!-- LOADER -->
    <div class="loader" id="loader">
        <div class="loader-logo">
            <div class="bolivia-flag"></div>
            <span>SUBASTAS BOLIVIA</span>
        </div>
        <div class="loader-spinner"></div>
        <div style="margin-top: 20px; color: var(--gold);">Cargando sistema...</div>
    </div>
    
    <!-- HEADER -->
    <header class="header">
        <!-- LOGO Y BOT√ìN MEN√ö M√ìVIL -->
        <div class="mobile-header-top">
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Abrir men√∫">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="logo">
                <div class="bolivia-flag"></div>
                <span>SUBASTAS BOLIVIA</span>
                <span class="beta-badge">BETA</span>
            </div>
            
            <button class="mobile-search-btn" id="mobileSearchBtn" aria-label="Buscar">
                <i class="fas fa-search"></i>
            </button>
        </div>
        
        <!-- MEN√ö DE NAVEGACI√ìN PRINCIPAL -->
        <nav class="main-nav" id="mainNav">
            <button class="nav-btn active" data-tab="auctions" aria-label="Ver subastas">
                <i class="fas fa-gavel"></i>
                <span class="nav-text">Subastas</span>
            </button>
            <button class="nav-btn" data-tab="mybids" aria-label="Mis pujas">
                <i class="fas fa-history"></i>
                <span class="nav-text">Mis Pujas</span>
            </button>
            <button class="nav-btn" data-tab="winners" aria-label="Ganadores">
                <i class="fas fa-trophy"></i>
                <span class="nav-text">Ganadores</span>
            </button>
            <button class="nav-btn" id="watchlistBtn" data-tab="watchlist" aria-label="Subastas seguidas">
                <i class="fas fa-eye"></i>
                <span class="nav-text">Seguidas</span>
                <span class="badge" id="watchlistCount">0</span>
            </button>
        </nav>
        
        <!-- INFORMACI√ìN DE USUARIO -->
        <div class="user-info">
            <div class="user-profile" id="userProfile" role="button" aria-label="Perfil de usuario">
                <div class="user-avatar" id="userAvatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-details">
                    <span class="username" id="usernameDisplay">Invitado</span>
                    <span class="user-rank" id="userRank">Sin ranking</span>
                </div>
            </div>
            <button class="login-btn" id="loginBtn" aria-label="Iniciar sesi√≥n VIP">Login VIP</button>
        </div>
        
        <!-- BUSCADOR M√ìVIL (OCULTO) -->
        <div class="mobile-search-container" id="mobileSearchContainer">
            <div class="search-wrapper">
                <input type="search" 
                       id="mobileSearchInput" 
                       placeholder="Buscar subastas..." 
                       aria-label="Buscar subastas"
                       class="mobile-search-input">
                <button class="search-close-btn" id="searchCloseBtn" aria-label="Cerrar b√∫squeda">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </header>
    
    <!-- CONTENIDO PRINCIPAL -->
    <main class="main-content">
        <!-- FILTROS Y CATEGOR√çAS -->
        <div class="filters-section">
            <div class="categories">
                <button class="category-btn active" data-category="all" aria-label="Todas las categor√≠as">
                    <i class="fas fa-globe"></i>
                    <span class="category-text">Todas</span>
                </button>
                <button class="category-btn" data-category="electronics" aria-label="Electr√≥nica">
                    <i class="fas fa-laptop"></i>
                    <span class="category-text">Electr√≥nica</span>
                </button>
                <button class="category-btn" data-category="vehicles" aria-label="Veh√≠culos">
                    <i class="fas fa-car"></i>
                    <span class="category-text">Veh√≠culos</span>
                </button>
                <button class="category-btn" data-category="art" aria-label="Arte">
                    <i class="fas fa-palette"></i>
                    <span class="category-text">Arte</span>
                </button>
                <button class="category-btn" data-category="collectibles" aria-label="Coleccionables">
                    <i class="fas fa-coins"></i>
                    <span class="category-text">Coleccionables</span>
                </button>
                <button class="category-btn" data-category="premium" aria-label="Premium">
                    <i class="fas fa-crown"></i>
                    <span class="category-text">Premium</span>
                </button>
            </div>
            
            <div class="filter-controls">
                <select class="filter-select" id="sortSelect" aria-label="Ordenar por">
                    <option value="ending">Pr√≥ximas a terminar</option>
                    <option value="newest">M√°s recientes</option>
                    <option value="price-low">Precio m√°s bajo</option>
                    <option value="price-high">Precio m√°s alto</option>
                    <option value="participants">M√°s populares</option>
                </select>
                
                <button class="filter-btn" id="expertVerifiedFilter" aria-label="Solo verificadas">
                    <i class="fas fa-check-circle"></i>
                    <span class="filter-text">Solo verificadas</span>
                </button>
                
                <button class="filter-btn" id="flashAuctionsFilter" aria-label="Subastas rel√°mpago">
                    <i class="fas fa-bolt"></i>
                    <span class="filter-text">Subastas rel√°mpago</span>
                </button>
            </div>
        </div>
        
        <!-- AREA DE SUBASTAS -->
        <div class="tabs-container">
            <!-- SUBASTAS ACTIVAS -->
            <div class="tab-pane active" id="auctions">
                <div class="tab-header">
                    <h2>
                        <i class="fas fa-gavel"></i> Subastas en Curso
                        <span class="mobile-auctions-count" id="mobileAuctionsCount">(0)</span>
                    </h2>
                    <p class="tab-subtitle">Participa en subastas exclusivas en tiempo real</p>
                    
                    <div class="auction-stats-bar">
                        <div class="stat-item">
                            <i class="fas fa-clock"></i>
                            <span id="activeAuctionsCount">0</span> activas
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-users"></i>
                            <span id="totalParticipants">0</span> participantes
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-bolt"></i>
                            <span id="endingSoonCount">0</span> por terminar
                        </div>
                    </div>
                </div>
                
                <!-- GU√çA R√ÅPIDA M√ìVIL -->
                <div class="mobile-guide">
                    <div class="guide-section">
                        <h3><i class="fas fa-info-circle"></i> C√≥mo pujar</h3>
                        <div class="guide-cards">
                            <div class="guide-card">
                                <i class="fas fa-user-check"></i>
                                <h4>Reg√≠strate</h4>
                                <p>Crea tu cuenta VIP gratis</p>
                            </div>
                            <div class="guide-card">
                                <i class="fas fa-search-dollar"></i>
                                <h4>Busca</h4>
                                <p>Encuentra tu subasta ideal</p>
                            </div>
                            <div class="guide-card">
                                <i class="fas fa-hand-pointer"></i>
                                <h4>Puja</h4>
                                <p>Ofrece tu mejor precio</p>
                            </div>
                            <div class="guide-card">
                                <i class="fas fa-trophy"></i>
                                <h4>Gana</h4>
                                <p>¬°Felicidades, ganaste!</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ESTAD√çSTICAS DEL USUARIO (SI EST√Å LOGUEADO) -->
                <div class="user-stats-container" id="userStatsContainer" style="display: none;">
                    <h3><i class="fas fa-chart-bar"></i> Mis Estad√≠sticas</h3>
                    <div class="user-stats" id="userStats">
                        <!-- Cargado din√°micamente -->
                    </div>
                </div>
                
                <!-- GRID DE SUBASTAS -->
                <div class="auctions-grid" id="auctionsGrid">
                    <!-- Subastas cargadas din√°micamente -->
                </div>
                
                <!-- ESTADO VAC√çO -->
                <div class="empty-state" id="emptyAuctionsState" style="display: none;">
                    <i class="fas fa-search"></i>
                    <h3>No hay subastas disponibles</h3>
                    <p>No encontramos subastas con los filtros seleccionados.</p>
                    <button class="btn-secondary" id="resetFiltersBtn">
                        <i class="fas fa-redo"></i> Reiniciar filtros
                    </button>
                </div>
                
                <!-- PAGINACI√ìN M√ìVIL -->
                <div class="mobile-pagination" id="mobilePagination" style="display: none;">
                    <button class="pagination-btn prev" id="prevPageBtn" disabled>
                        <i class="fas fa-chevron-left"></i> Anterior
                    </button>
                    <span class="page-info" id="pageInfo">P√°gina 1 de 1</span>
                    <button class="pagination-btn next" id="nextPageBtn" disabled>
                        Siguiente <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- MIS PUJAS -->
            <div class="tab-pane" id="mybids">
                <div class="tab-header">
                    <h2><i class="fas fa-history"></i> Mis Pujas</h2>
                    <p class="tab-subtitle">Historial de todas tus pujas realizadas</p>
                </div>
                
                <div class="auctions-grid" id="myBidsGrid"></div>
                
                <div class="empty-state" id="emptyBidsState" style="display: none;">
                    <i class="fas fa-history"></i>
                    <h3>No has realizado pujas</h3>
                    <p>¬°Empieza a pujar en las subastas activas!</p>
                    <button class="btn-primary" id="goToAuctionsBtn">
                        <i class="fas fa-gavel"></i> Ver Subastas
                    </button>
                </div>
            </div>
            
            <!-- GANADORES -->
            <div class="tab-pane" id="winners">
                <div class="tab-header">
                    <h2><i class="fas fa-trophy"></i> Ganadores</h2>
                    <p class="tab-subtitle">√öltimos ganadores de subastas</p>
                </div>
                
                <div class="auctions-grid" id="winnersGrid"></div>
                
                <div class="empty-state" id="emptyWinnersState" style="display: none;">
                    <i class="fas fa-trophy"></i>
                    <h3>No hay ganadores recientes</h3>
                    <p>Los resultados de las subastas aparecer√°n aqu√≠.</p>
                </div>
            </div>
            
            <!-- SEGUIDAS -->
            <div class="tab-pane" id="watchlist">
                <div class="tab-header">
                    <h2><i class="fas fa-eye"></i> Subastas Seguidas</h2>
                    <p class="tab-subtitle">Tus subastas favoritas en seguimiento</p>
                </div>
                
                <div class="auctions-grid" id="watchlistGrid"></div>
                
                <div class="empty-state" id="emptyWatchlistState" style="display: none;">
                    <i class="fas fa-eye"></i>
                    <h3>No sigues ninguna subasta</h3>
                    <p>Haz click en el icono de ojo para seguir subastas.</p>
                    <button class="btn-primary" id="exploreAuctionsBtn">
                        <i class="fas fa-compass"></i> Explorar Subastas
                    </button>
                </div>
            </div>
        </div>
        
        <!-- BARRA LATERAL (DESKTOP) / SECCI√ìN INFERIOR (M√ìVIL) -->
        <div class="stats-sidebar">
            <div class="stats-card">
                <h3><i class="fas fa-chart-line"></i> Estad√≠sticas en Vivo</h3>
                <div class="live-stats">
                    <div class="live-stat">
                        <div class="live-stat-value" id="liveTotalBids">0</div>
                        <div class="live-stat-label">Pujas hoy</div>
                    </div>
                    <div class="live-stat">
                        <div class="live-stat-value" id="liveActiveUsers">0</div>
                        <div class="live-stat-label">Usuarios activos</div>
                    </div>
                    <div class="live-stat">
                        <div class="live-stat-value" id="liveTotalAuctions">0</div>
                        <div class="live-stat-label">Subastas totales</div>
                    </div>
                </div>
            </div>
            
            <div class="stats-card">
                <h3><i class="fas fa-crown"></i> Top Pujadores</h3>
                <div class="top-bidders" id="topBiddersList">
                    <!-- Cargado din√°micamente -->
                </div>
            </div>
            
            <div class="stats-card">
                <h3><i class="fas fa-clock"></i> Por Terminar</h3>
                <div class="ending-soon" id="endingSoonList">
                    <!-- Cargado din√°micamente -->
                </div>
            </div>
            
            <!-- BANNER M√ìVIL -->
            <div class="mobile-banner">
                <div class="banner-content">
                    <i class="fas fa-mobile-alt"></i>
                    <h4>¬°Usa nuestra app!</h4>
                    <p>Descarga la app para mejores notificaciones</p>
                    <button class="btn-secondary" id="installAppBtn">
                        <i class="fas fa-download"></i> Instalar App
                    </button>
                </div>
            </div>
        </div>
        
        <!-- BOT√ìN FLOTANTE PARA M√ìVIL -->
        <button class="mobile-fab" id="mobileFab" aria-label="Acciones r√°pidas">
            <i class="fas fa-plus"></i>
        </button>
        
        <!-- MEN√ö FLOTANTE M√ìVIL -->
        <div class="mobile-fab-menu" id="mobileFabMenu">
            <button class="fab-menu-item" id="fabNewBid" aria-label="Nueva puja">
                <i class="fas fa-gavel"></i>
                <span>Pujar</span>
            </button>
            <button class="fab-menu-item" id="fabSearch" aria-label="Buscar">
                <i class="fas fa-search"></i>
                <span>Buscar</span>
            </button>
            <button class="fab-menu-item" id="fabNotifications" aria-label="Notificaciones">
                <i class="fas fa-bell"></i>
                <span>Notificaciones</span>
                <span class="badge" id="mobileNotificationsBadge">0</span>
            </button>
            <button class="fab-menu-item" id="fabRefresh" aria-label="Refrescar">
                <i class="fas fa-sync-alt"></i>
                <span>Refrescar</span>
            </button>
        </div>
    </main>
    
    <!-- MODALES -->
    <div class="modal-overlay" id="authModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-user-circle"></i> Acceso VIP</h3>
                <button class="close-modal" data-modal="authModal" aria-label="Cerrar">&times;</button>
            </div>
            <div class="modal-body">
                <div class="auth-intro">
                    <i class="fas fa-user-circle"></i>
                    <h3>Bienvenido</h3>
                    <p>Elige c√≥mo quieres acceder</p>
                </div>
                
                <div class="auth-options">
                    <button class="btn-primary" id="existingUserBtn">
                        <i class="fas fa-sign-in-alt"></i> Ya Tengo Cuenta
                    </button>
                    <button class="btn-secondary" id="newUserBtn">
                        <i class="fas fa-user-plus"></i> Registrarme
                    </button>
                </div>
                
                <div class="auth-divider">
                    <span>o contin√∫a como</span>
                </div>
                
                <button class="btn-tertiary" id="guestContinueBtn">
                    <i class="fas fa-user-clock"></i> Invitado
                </button>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="loginModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-sign-in-alt"></i> Iniciar Sesi√≥n</h3>
                <button class="close-modal" data-modal="loginModal" aria-label="Cerrar">&times;</button>
            </div>
            <form id="loginForm" class="modal-form">
                <div class="form-group">
                    <label class="form-label" for="loginPhoneInput">
                        <i class="fas fa-phone"></i> N√∫mero de Tel√©fono
                    </label>
                    <input type="tel" 
                           class="form-input" 
                           id="loginPhoneInput" 
                           placeholder="7 a 10 d√≠gitos" 
                           required
                           pattern="[0-9]{7,10}"
                           inputmode="numeric">
                </div>
                <div class="form-group">
                    <label class="form-label" for="loginPasswordInput">
                        <i class="fas fa-lock"></i> Contrase√±a
                    </label>
                    <div class="password-container">
                        <input type="password" 
                               class="form-input" 
                               id="loginPasswordInput" 
                               placeholder="M√≠nimo 6 caracteres" 
                               required
                               minlength="6">
                        <button type="button" class="toggle-password" id="toggleLoginPassword" aria-label="Mostrar contrase√±a">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="form-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="rememberMe">
                        <span>Recordar sesi√≥n</span>
                    </label>
                    <button type="button" class="text-link" id="forgotPasswordBtn">¬øOlvidaste contrase√±a?</button>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn-primary" id="loginSubmitBtn">
                        <i class="fas fa-sign-in-alt"></i> Entrar
                    </button>
                    <button type="button" class="btn-secondary" id="backToAuthBtn">
                        <i class="fas fa-arrow-left"></i> Volver
                    </button>
                </div>
                
                <div class="social-login">
                    <p>O inicia sesi√≥n con</p>
                    <div class="social-buttons">
                        <button type="button" class="social-btn google" aria-label="Google">
                            <i class="fab fa-google"></i>
                        </button>
                        <button type="button" class="social-btn facebook" aria-label="Facebook">
                            <i class="fab fa-facebook"></i>
                        </button>
                        <button type="button" class="social-btn twitter" aria-label="Twitter">
                            <i class="fab fa-twitter"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <div class="modal-overlay" id="registerModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-user-plus"></i> Crear Cuenta VIP</h3>
                <button class="close-modal" data-modal="registerModal" aria-label="Cerrar">&times;</button>
            </div>
            <form id="registerForm" class="modal-form">
                <div class="form-group">
                    <label class="form-label" for="registerPhoneInput">
                        <i class="fas fa-phone"></i> N√∫mero de Tel√©fono
                    </label>
                    <input type="tel" 
                           class="form-input" 
                           id="registerPhoneInput" 
                           placeholder="7 a 10 d√≠gitos" 
                           required
                           pattern="[0-9]{7,10}"
                           inputmode="numeric">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="registerUsernameInput">
                        <i class="fas fa-user"></i> Nombre de Usuario
                    </label>
                    <input type="text" 
                           class="form-input" 
                           id="registerUsernameInput" 
                           placeholder="3 a 20 caracteres" 
                           required
                           minlength="3"
                           maxlength="20">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="registerEmailInput">
                        <i class="fas fa-envelope"></i> Email (Opcional)
                    </label>
                    <input type="email" 
                           class="form-input" 
                           id="registerEmailInput" 
                           placeholder="tu@email.com">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="registerPasswordInput">
                            <i class="fas fa-lock"></i> Contrase√±a
                        </label>
                        <div class="password-container">
                            <input type="password" 
                                   class="form-input" 
                                   id="registerPasswordInput" 
                                   placeholder="M√≠nimo 6 caracteres" 
                                   required
                                   minlength="6">
                            <button type="button" class="toggle-password" id="toggleRegisterPassword" aria-label="Mostrar contrase√±a">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="registerConfirmPasswordInput">
                            <i class="fas fa-lock"></i> Confirmar
                        </label>
                        <div class="password-container">
                            <input type="password" 
                                   class="form-input" 
                                   id="registerConfirmPasswordInput" 
                                   placeholder="Repite contrase√±a" 
                                   required
                                   minlength="6">
                            <button type="button" class="toggle-password" id="toggleConfirmPassword" aria-label="Mostrar contrase√±a">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="form-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="acceptTerms" required>
                        <span>Acepto los <a href="#" class="text-link">T√©rminos y Condiciones</a></span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="newsletterOptIn">
                        <span>Recibir ofertas y novedades</span>
                    </label>
                </div>
                
                <div class="password-strength" id="passwordStrength">
                    <div class="strength-bar">
                        <div class="strength-fill" id="strengthFill"></div>
                    </div>
                    <span class="strength-text" id="strengthText">Seguridad de contrase√±a</span>
                </div>
                
                <button type="submit" class="btn-primary" id="registerSubmitBtn" style="width: 100%;">
                    <i class="fas fa-user-plus"></i> Crear Cuenta VIP
                </button>
                
                <div class="form-footer">
                    <p>¬øYa tienes cuenta? <button type="button" class="text-link" id="goToLoginBtn">Inicia sesi√≥n</button></p>
                </div>
            </form>
        </div>
    </div>
    
    <!-- MODAL DE PUJA -->
    <div class="modal-overlay" id="bidModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-gavel"></i> Realizar Puja</h3>
                <button class="close-modal" data-modal="bidModal" aria-label="Cerrar">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Contenido din√°mico de puja -->
            </div>
        </div>
    </div>
    
    <!-- MODAL DE NOTIFICACIONES M√ìVIL -->
    <div class="modal-overlay mobile-modal" id="notificationsModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-bell"></i> Notificaciones</h3>
                <button class="close-modal" data-modal="notificationsModal" aria-label="Cerrar">&times;</button>
            </div>
            <div class="modal-body">
                <div class="notifications-list" id="mobileNotificationsList">
                    <!-- Notificaciones din√°micas -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- PANEL ADMIN -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2><i class="fas fa-crown"></i> Panel de Administraci√≥n</h2>
            <button class="close-admin" id="closeAdminPanel" aria-label="Cerrar panel">&times;</button>
        </div>
        
        <div class="admin-tabs">
            <button class="admin-tab active" data-admin-tab="create">
                <i class="fas fa-plus-circle"></i> Crear
            </button>
            <button class="admin-tab" data-admin-tab="manage">
                <i class="fas fa-tasks"></i> Gestionar
            </button>
            <button class="admin-tab" data-admin-tab="users">
                <i class="fas fa-users"></i> Usuarios
            </button>
            <button class="admin-tab" data-admin-tab="stats">
                <i class="fas fa-chart-pie"></i> Estad√≠sticas
            </button>
        </div>
        
        <div id="adminContent">
            <!-- Contenido din√°mico del admin -->
        </div>
    </div>
    
    <!-- BOT√ìN ADMIN FLOTANTE (OCULTO POR DEFAULT) -->
    <button class="admin-btn" id="adminBtn" aria-label="Panel de administraci√≥n">
        <i class="fas fa-crown"></i>
    </button>
    
    <!-- CONTENEDOR DE NOTIFICACIONES -->
    <div class="notifications-container" id="notificationsContainer"></div>
    
    <!-- SCRIPTS -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-messaging-compat.js"></script>
    
    <script src="config.js"></script>
    <script src="app.js"></script>
    
    <!-- SCRIPT DE INICIALIZACI√ìN M√ìVIL -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // A√±adir clase loaded cuando todo est√© listo
            setTimeout(() => {
                document.body.classList.add('loaded');
                const loader = document.getElementById('loader');
                if (loader) {
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 300);
                }
            }, 1000);
            
            // DETECCI√ìN DE DISPOSITIVO M√ìVIL
            const isMobile = {
                Android: function() {
                    return navigator.userAgent.match(/Android/i);
                },
                BlackBerry: function() {
                    return navigator.userAgent.match(/BlackBerry/i);
                },
                iOS: function() {
                    return navigator.userAgent.match(/iPhone|iPad|iPod/i);
                },
                Opera: function() {
                    return navigator.userAgent.match(/Opera Mini/i);
                },
                Windows: function() {
                    return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);
                },
                any: function() {
                    return (isMobile.Android() || isMobile.BlackBerry() || 
                           isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
                }
            };
            
            // Aplicar clases seg√∫n el dispositivo
            if (isMobile.any()) {
                document.body.classList.add('mobile-device');
                if (isMobile.iOS()) {
                    document.body.classList.add('ios-device');
                } else if (isMobile.Android()) {
                    document.body.classList.add('android-device');
                }
            }
            
            // MANEJO DEL MEN√ö M√ìVIL
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mainNav = document.getElementById('mainNav');
            const mobileSearchBtn = document.getElementById('mobileSearchBtn');
            const mobileSearchContainer = document.getElementById('mobileSearchContainer');
            const searchCloseBtn = document.getElementById('searchCloseBtn');
            
            if (mobileMenuBtn && mainNav) {
                mobileMenuBtn.addEventListener('click', function() {
                    mainNav.classList.toggle('mobile-active');
                    mobileMenuBtn.classList.toggle('active');
                    mobileMenuBtn.setAttribute('aria-label', 
                        mainNav.classList.contains('mobile-active') ? 'Cerrar men√∫' : 'Abrir men√∫');
                });
            }
            
            if (mobileSearchBtn && mobileSearchContainer) {
                mobileSearchBtn.addEventListener('click', function() {
                    mobileSearchContainer.classList.toggle('active');
                    const searchInput = document.getElementById('mobileSearchInput');
                    if (searchInput && mobileSearchContainer.classList.contains('active')) {
                        setTimeout(() => searchInput.focus(), 100);
                    }
                });
            }
            
            if (searchCloseBtn && mobileSearchContainer) {
                searchCloseBtn.addEventListener('click', function() {
                    mobileSearchContainer.classList.remove('active');
                });
            }
            
            // MANEJO DE PESTA√ëAS
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remover activo de todos
                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                    // A√±adir activo al clickeado
                    this.classList.add('active');
                    
                    // Ocultar todos los contenidos
                    document.querySelectorAll('.tab-pane').forEach(pane => {
                        pane.classList.remove('active');
                    });
                    
                    // Mostrar el contenido correspondiente
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                    
                    // Cerrar men√∫ m√≥vil si est√° abierto
                    if (mainNav && mainNav.classList.contains('mobile-active')) {
                        mainNav.classList.remove('mobile-active');
                        mobileMenuBtn.classList.remove('active');
                    }
                });
            });
            
            // MANEJO DE CATEGOR√çAS
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // BOT√ìN LOGIN ABRE MODAL AUTH
            document.getElementById('loginBtn').addEventListener('click', function() {
                document.getElementById('authModal').classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            // BOTONES DENTRO DE AUTH MODAL
            document.getElementById('existingUserBtn').addEventListener('click', function() {
                document.getElementById('authModal').classList.remove('active');
                document.getElementById('loginModal').classList.add('active');
            });
            
            document.getElementById('newUserBtn').addEventListener('click', function() {
                document.getElementById('authModal').classList.remove('active');
                document.getElementById('registerModal').classList.add('active');
            });
            
            // CERRAR MODALES
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    const modalId = this.getAttribute('data-modal');
                    document.getElementById(modalId).classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            });
            
            // CERRAR MODAL HACIENDO CLICK FUERA
            document.querySelectorAll('.modal-overlay').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                });
            });
            
            // TOGGLE PASSWORD VISIBILITY
            document.querySelectorAll('.toggle-password').forEach(btn => {
                btn.addEventListener('click', function() {
                    const inputId = this.id.replace('toggle', '').replace('Password', 'Input');
                    const input = document.getElementById(inputId.charAt(0).toLowerCase() + inputId.slice(1));
                    if (input) {
                        const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
                        input.setAttribute('type', type);
                        this.querySelector('i').classList.toggle('fa-eye');
                        this.querySelector('i').classList.toggle('fa-eye-slash');
                        this.setAttribute('aria-label', 
                            type === 'password' ? 'Mostrar contrase√±a' : 'Ocultar contrase√±a');
                    }
                });
            });
            
            // FAB (FLOATING ACTION BUTTON) M√ìVIL
            const mobileFab = document.getElementById('mobileFab');
            const mobileFabMenu = document.getElementById('mobileFabMenu');
            
            if (mobileFab && mobileFabMenu) {
                mobileFab.addEventListener('click', function() {
                    mobileFabMenu.classList.toggle('active');
                    mobileFab.classList.toggle('active');
                });
                
                // Cerrar FAB menu al hacer click fuera
                document.addEventListener('click', function(e) {
                    if (!mobileFab.contains(e.target) && !mobileFabMenu.contains(e.target)) {
                        mobileFabMenu.classList.remove('active');
                        mobileFab.classList.remove('active');
                    }
                });
            }
            
            // MANEJO DEL BOT√ìN DE INSTALAR APP
            const installAppBtn = document.getElementById('installAppBtn');
            let deferredPrompt;
            
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                
                if (installAppBtn) {
                    installAppBtn.style.display = 'flex';
                    installAppBtn.addEventListener('click', async () => {
                        if (deferredPrompt) {
                            deferredPrompt.prompt();
                            const { outcome } = await deferredPrompt.userChoice;
                            console.log(`User response to the install prompt: ${outcome}`);
                            deferredPrompt = null;
                        }
                    });
                }
            });
            
            // MANEJO DE OFFLINE/ONLINE
            window.addEventListener('online', function() {
                console.log('Conectado a internet');
                showNotification('‚úÖ Conectado a internet', 'success');
            });
            
            window.addEventListener('offline', function() {
                console.log('Sin conexi√≥n a internet');
                showNotification('‚ö†Ô∏è Sin conexi√≥n a internet', 'warning');
            });
            
            // FUNCI√ìN PARA MOSTRAR NOTIFICACIONES
            function showNotification(message, type = 'info') {
                const container = document.getElementById('notificationsContainer');
                if (!container) return;
                
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 
                                      type === 'error' ? 'exclamation-circle' : 
                                      type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                    <button class="close-notification" aria-label="Cerrar notificaci√≥n">&times;</button>
                `;
                
                container.appendChild(notification);
                
                // Auto-remover despu√©s de 5 segundos
                setTimeout(() => {
                    notification.classList.add('fade-out');
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
                
                // Cerrar manualmente
                notification.querySelector('.close-notification').addEventListener('click', () => {
                    notification.classList.add('fade-out');
                    setTimeout(() => notification.remove(), 300);
                });
            }
            
            // PREVENIR ZOOM DOBLE TAP EN M√ìVIL
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // MEJORAR SCROLL EN M√ìVIL
            if (isMobile.any()) {
                document.documentElement.style.scrollBehavior = 'smooth';
                
                // Prevenir bounce scroll en iOS
                document.addEventListener('touchmove', function(e) {
                    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.tagName === 'SELECT') {
                        return;
                    }
                    e.preventDefault();
                }, { passive: false });
            }
            
            // =============================================
            // ATAJO DE TECLADO PARA ADMINISTRADOR: Ctrl+Alt+A
            // =============================================
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.altKey && e.key === 'a') {
                    e.preventDefault();
                    
                    console.log('üîë Atajo Ctrl+Alt+A detectado - Verificando permisos...');
                    
                    if (window.auctionSystem) {
                        console.log('‚úÖ Sistema de subastas cargado');
                        
                        if (window.auctionSystem.currentUser) {
                            console.log('‚úÖ Usuario logueado:', window.auctionSystem.currentUser.username);
                            
                            if (window.auctionSystem.currentUser.isAdmin) {
                                console.log('‚úÖ Permisos de administrador confirmados');
                                
                                const adminPanel = document.getElementById('adminPanel');
                                if (adminPanel) {
                                    const wasActive = adminPanel.classList.contains('active');
                                    adminPanel.classList.toggle('active');
                                    document.body.style.overflow = adminPanel.classList.contains('active') ? 'hidden' : 'auto';
                                    
                                    const isNowActive = adminPanel.classList.contains('active');
                                    console.log('üëë Panel de administraci√≥n ' + (isNowActive ? 'ACTIVADO' : 'DESACTIVADO'));
                                    
                                    showNotification(
                                        'üëë Panel de Administraci√≥n ' + 
                                        (isNowActive ? 'activado' : 'desactivado'),
                                        'info'
                                    );
                                }
                            } else {
                                console.log('‚ùå Usuario NO es administrador');
                                showNotification('‚ö†Ô∏è No tienes permisos de administrador', 'warning');
                            }
                        } else {
                            console.log('‚ùå No hay usuario logueado');
                            showNotification('üîê Inicia sesi√≥n primero como administrador', 'warning');
                        }
                    } else {
                        console.error('‚ùå Sistema de subastas no est√° cargado');
                        showNotification('‚ö†Ô∏è Espera a que el sistema se cargue completamente', 'warning');
                    }
                }
            });
            
            // CERRAR PANEL ADMIN
            const closeAdminBtn = document.getElementById('closeAdminPanel');
            if (closeAdminBtn) {
                closeAdminBtn.addEventListener('click', function() {
                    document.getElementById('adminPanel').classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            }
            
            // BOT√ìN ADMIN FLOTANTE
            const adminBtn = document.getElementById('adminBtn');
            if (adminBtn) {
                adminBtn.addEventListener('click', function() {
                    const adminPanel = document.getElementById('adminPanel');
                    adminPanel.classList.toggle('active');
                    document.body.style.overflow = adminPanel.classList.contains('active') ? 'hidden' : 'auto';
                });
            }
            
            // LOG PARA DESARROLLADOR
            console.log('üõ°Ô∏è Atajo de administrador configurado: Ctrl + Alt + A');
            console.log('üì± Sistema optimizado para dispositivos m√≥viles');
            console.log('üöÄ PWA ready para instalaci√≥n');
        });
        
        // REGISTRAR SERVICE WORKER PARA PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('‚úÖ Service Worker registrado:', registration.scope);
                    })
                    .catch(error => {
                        console.log('‚ùå Error registrando Service Worker:', error);
                    });
            });
        }
        
        // DETECTAR CONEXI√ìN LENTA
        if ('connection' in navigator) {
            const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
            if (connection) {
                if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
                    document.body.classList.add('slow-connection');
                    console.log('‚ö†Ô∏è Conexi√≥n lenta detectada:', connection.effectiveType);
                }
                
                connection.addEventListener('change', function() {
                    console.log('üì∂ Cambio en conexi√≥n:', connection.effectiveType);
                    if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
                        document.body.classList.add('slow-connection');
                    } else {
                        document.body.classList.remove('slow-connection');
                    }
                });
            }
        }
    </script>
    
    <!-- ANALYTICS (OPCIONAL) -->
    <script>
        // Google Analytics (reemplaza con tu ID)
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-XXXXX-Y');
        
        // Eventos personalizados para analytics
        function trackEvent(category, action, label) {
            if (typeof gtag !== 'undefined') {
                gtag('event', action, {
                    'event_category': category,
                    'event_label': label
                });
            }
            console.log(`üìä Event: ${category} - ${action} - ${label}`);
        }
        
        // Track page views
        trackEvent('navigation', 'page_view', window.location.pathname);
    </script>
</body>
</html>